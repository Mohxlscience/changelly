"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9005],{66267:function(e,t,n){n.r(t),n.d(t,{AppGlobalHooksInitializer:function(){return I},AppProductHooksInitializer:function(){return J}});var i,r,a,l,o=n(81908),u=n(41430),c=n(7653),s=n(43316),d=n(34935),f=n(4931);let m=()=>{let{resolveRender:e}=(0,f.s)(),{data:t}=(0,d.bT)(void 0,{skip:!e}),n=(null==t?void 0:t.user)||null;(0,c.useEffect)(()=>{try{n&&(window.dataLayer||(window.dataLayer=[]),window.dataLayer.push({event:"ga4_custom_event",event_name:"set_user_id",UID:n.id,account_created_at:n.createdAt}))}catch(e){(0,s.Tb)(e)}},[n])};var g=n(56184);let w=()=>{(0,c.useEffect)(()=>{(0,g.Z)()},[])};var h=n(54603),p=n(9551),v=n(82216),y=n(62117),b=n(61857),_=n(33361);let D=e=>{let t={secure:!0,sameSite:"None",domain:_.JP},n=e.get(_.Uj);if(!(n&&Object.values(b.jy).includes(n))){let n=(0,y.$)(0,99),i=b.jy.default;n>25&&n<=50&&(i=b.jy.welcomeGift),n>50&&n<=75&&(i=b.jy.exclusiveRates),n>75&&(i=b.jy.betterInApp),e.set(_.Uj,i,{...t,expires:new Date(Date.now()+2592e6)})}},j=e=>{let t={secure:!0,sameSite:"None",domain:_.JP},n=e.get(_.iV);if(!n||!["default","new4","new6"].includes(n)){let n=(0,y.$)(0,99),i="default";n>50&&n<=75&&(i="new4"),n>75&&(i="new6"),e.set(_.iV,i,{...t,expires:new Date(Date.now()+2592e6)})}},x=e=>{let t={secure:!0,sameSite:"None",domain:_.JP};if(!e.get(_.QG)){let n=(0,y.$)(0,99),i="default";n>50&&(i="new"),e.set(_.QG,i,{...t,expires:new Date(Date.now()+7776e6)})}},k=()=>{let e=(0,h.usePathname)();(0,c.useEffect)(()=>{let e=new URLSearchParams(window.location.search);(0,v.kX)(e,p.Z),j(p.Z),D(p.Z),x(p.Z)},[e])};var S=n(26557),E=n(56288);(i=a||(a={})).Widget="widget",i.Web="web",(r=l||(l={})).Blog="Blog",r.Widget="Widget",r.CrashCourse="Crash Course",r.AffiliateRevShare="Affiliate Rev-Share",r.Email="Email",r.AffiliateOther="Affiliate Other",r.Advertising="Advertising",r.SMM="SMM",r.Organic="Organic",r.SocialOrganic="Social Organic",r.Other="Other",r.Direct="Direct";let C="c6571f2f9f89",A="changelly_blog",Z=e=>{let{merchantId:t=null,refId:n=null,utmSource:i=null}=e;return t===C||n===C||i===A?l.Blog:l.Widget},P=(e,t)=>{let{merchantId:n=null,utmMedium:i=null,utmCampaign:r=null,refId:a=null,utmSource:o=null}=e;return["All uncategorized messages","All uncategorized email messages"].includes(r||"")||["changelly_main","changelly_seo"].includes(o||"")?l.Direct:n===C||a===C||o===A?l.Blog:["widget","affiliate_widget"].includes(o||"")?l.Widget:"crash_course"===i?l.CrashCourse:null!==a?l.AffiliateRevShare:"customer.io"===o||"email"===i?l.Email:"affiliate"===i||"affise"===o?l.AffiliateOther:["paid","display","banner","cpc","cpm","pr","afflist","referral"].includes(i||"")||"googleads"===o?l.Advertising:["twitter","telegram","facebook","reddit","instagram"].includes(o||"")||"social"===i?l.SMM:t&&t.match(/.*(https:\/\/www\.google\.|yandex\.|bing\.|baidu\.|duckduckgo\.|yahoo\.|googleapis\.com).*/)&&!t.includes("mail.")?l.Organic:t&&t.match(/.*(facebook\.com|youtube\.com|twitter\.com|\/t\.co|org\.telegram\.|\/t\.me|\/bitcointalk\.org\/|reddit\.com\/|linkedin\.com\/|steemit\.com\/|trustpilot\.com\/|sitejabber\.com\/|instagram\.com|\/medium\.com).*/)?l.SocialOrganic:null!==i||null!==o||null!==r||t&&t.length>0&&!t.match(/.*(changelly\.com\/|changelly\.page\.link\/|checkout\.simplexcc\.com\/|changelly.*\.banxa\.com\/).*/)?l.Other:l.Direct},L=e=>{let t=new URLSearchParams(e),n={};return t.forEach((e,t)=>{n[t]=e}),n},O=e=>{let{platform:t,search:n,referrer:i,domain:r}=e,o=L(n),u={merchantId:null==o?void 0:o.merchant_id,utmMedium:(null==o?void 0:o.utm_medium)||(null==o?void 0:o.int_medium),utmCampaign:(null==o?void 0:o.utm_campaign)||(null==o?void 0:o.int_campaign),utmSource:(null==o?void 0:o.utm_source)||(null==o?void 0:o.int_source),refId:null==o?void 0:o.ref_id},c=t===a.Web?P(u,i):Z(u);null!==c&&c!==l.Direct&&p.Z.set(_.Kr,c,{path:"/",domain:_.JP,expires:30,...r?{domain:r,secure:!0,sameSite:"none"}:{}})},R={path:"/",domain:_.JP},T=()=>{(0,c.useEffect)(()=>{let e=(0,S.A)(),t=e?a.Widget:a.Web,{hostname:n,search:i}=window.location;O({platform:t,search:i,referrer:document.referrer,...e?{domain:n.replace("widget","")}:{}})},[]);let e=(0,E.jD)(),t=(0,c.useCallback)(t=>{let n=new Date,i=new Date(t);(n.getTime()-i.getTime())/6e4>30&&p.Z.set(_.uD,e,{...R})},[e]);(0,c.useEffect)(()=>{let n=p.Z.get(_.uD),i=p.Z.get(_.uy);n||i||p.Z.set(_.uD,e,{...R}),i&&t(i)},[e,t]);let n=(0,c.useCallback)(()=>{let e=new Date;p.Z.set(_.uy,"".concat(e.toISOString()),{...R})},[]),i=(0,c.useCallback)(()=>{let e=p.Z.get(_.uy);e&&t(e)},[t]);(0,c.useEffect)(()=>(window.addEventListener("blur",n),window.addEventListener("focus",i),()=>{window.removeEventListener("blur",n),window.removeEventListener("focus",i)}),[n,i])},I=()=>{let e=(0,u.TL)();return(0,o.sj)(e),w(),null},J=()=>(k(),T(),m(),null)},82216:function(e,t,n){n.d(t,{CL:function(){return a},kX:function(){return d}});var i=n(62117),r=n(33361);let a="wtpExperiment",l=["1001","1002","1003","1004","1005"],o="1006",u=[...l,o],c=new Set([...u,"30","50","101","51"]),s=()=>{let e=(0,i.$)(0,99),t=95/l.length;return l.find((n,i)=>e<(i+1)*t)||o},d=(e,t)=>{var n;let i="mV63E_P1bzyahsSw"===e.get("ref_id"),l="reactivation"===e.get("app_offer_id"),o="QIGmvRRnNaD4syJ4"===e.get("merchant_id"),u="brazil_launch"===e.get("offer_id"),d="FF8aM-Mf2AY1Kg66"===e.get("ref_id"),f=!!t.get(a),m=null!==(n=t.get(a))&&void 0!==n?n:"",g=c.has(m),w={secure:!0,sameSite:"None",domain:r.JP};if(!f||!g||o||i||l||u||d){if(l)t.set(a,"50",{...w,expires:new Date(Date.now()+288e5)});else if(u)t.set(a,"50",{...w,expires:new Date(Date.now()+12096e5)}),t.set("BrazilLaunchOffer","1",{...w,expires:new Date(Date.now()+12096e5)});else if(o)t.set(a,"30",{...w,expires:new Date(Date.now()+36e5)});else if(i)t.set(a,"101",{...w,expires:new Date(Date.now()+9e5)});else if(d)t.set(a,"51",{...w,expires:new Date(Date.now()+2592e6)});else if("30"===m||"101"===m||"51"===m);else if(!g){let e=s();t.set(a,e,{...w,expires:new Date(Date.now()+1296e6)})}}}},41430:function(e,t,n){n.d(t,{CG:function(){return a},TL:function(){return r}});var i=n(94953);let r=i.I0.withTypes(),a=i.v9.withTypes();i.oR.withTypes()},34935:function(e,t,n){n.d(t,{FU:function(){return l},_y:function(){return o},bT:function(){return a}});var i=n(55156),r=n(44591);let{useUserQuery:a,useLazyUserQuery:l,useLogoutMutation:o}=i.a.injectEndpoints({endpoints:e=>({user:e.query({query:()=>({url:(0,r.J)("/auth/user","proxy"),method:"GET"}),keepUnusedDataFor:1/0}),logout:e.mutation({query:e=>{let{noRedirect:t=!1,csrf:n=""}=e;return{url:(0,r.J)("/auth/logout","proxy"),method:"POST",body:{no_redirect:t,_csrf:n}}}})})})},61857:function(e,t,n){n.d(t,{Fc:function(){return l},R$:function(){return s},jC:function(){return o},jy:function(){return d},py:function(){return r},tD:function(){return a},u5:function(){return c},wt:function(){return u}});var i=n(33361);let r="SET_COOKIES_APPROVED",a="disable",l=()=>({expires:60,path:"/",domain:i.JP}),o="banner-mobile-app",u="offer-banner",c="mobile-banner-place",s="support-chat-place",d={default:"default",welcomeGift:"welcome_gift",exclusiveRates:"exclusive_rates",betterInApp:"better_in_app"}},56184:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(9551),r=n(77872),a=n(33361);let l={secure:!0,sameSite:"None"},o=()=>{let e=i.Z.get(a.CR);return e&&""!==e||(e=(0,r.Z)(),i.Z.set(a.CR,e,{...l,expires:365,domain:a.JP})),e}},55156:function(e,t,n){n.d(t,{a:function(){return y}});var i,r=n(9551),a=n(41452),l=n(81908),o=n(55984);let u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return btoa(String(e)).split("").reverse().map((e,t)=>e+String(t).slice(-1)).join("")},c=["x","-","a","n","a","l","y","t","i","c","s","-","i","d"],s=["x","-","c","a","c","h","e","-","i","d"],d=new o.WU,f=new Headers,m=e=>(0,l.ni)(e);async function g(e){let t=await fetch(e,{credentials:"include"});if(!t.ok)throw Error("Not loaded");let{analyticsId:n}=await t.json(),i=u(n);return{[c.join("")]:n,[s.join("")]:"HIT ".concat(i)}}function w(e,t,n){let i=e;return e instanceof Request?((i=e.clone()).headers.set(c.join(""),n.get(c.join(""))||""),i.headers.set(s.join(""),n.get(s.join(""))||"")):t?t.headers?t.headers={...t.headers,...n}:t.headers=n:t={headers:n},[i,t]}var h=n(82216),p=n(33361),v=n(56184);let y=(i={baseUrl:"",configUrl:(0,n(44591).J)("/v1/status","bff"),credentials:"include",prepareHeaders:e=>{let t=(0,v.Z)(),n=r.Z.get(h.CL);e.set("x-source-id","web");try{let t=r.Z.get(p.LA);t&&e.set("x-access-token",t)}catch(e){}t&&e.set("x-device-id",t),n&&e.set("x-experiment-id",n);let i=r.Z.get("TEST-CF-IPCountry");return i&&e.set("CF-IPCountry",i),e}},(0,a.LC)({reducerPath:"baseApi",baseQuery:(e=>{let{configUrl:t,...n}=e;return m({...n,fetchFn:async(e,i)=>{let r=n.fetchFn||fetch;if(!f.has(c.join(""))&&!d.isLocked()){let e=await d.acquire();try{let n=await g(t);f.set(c.join(""),n[c.join("")]),f.set(s.join(""),n[s.join("")]),e()}catch(t){e()}}await d.waitForUnlock();let a=await r(...w(e,i,f));if(!a.ok&&425===a.status){if(d.isLocked())await d.waitForUnlock(),a=await r(...w(e,i,f));else{let n=await d.acquire();try{let l=await g(t);f.set(c.join(""),l[c.join("")]),f.set(s.join(""),l[s.join("")]),a=await r(...w(e,i,f)),n()}finally{n()}}}return a}})})(i),endpoints:()=>({})}))},44591:function(e,t,n){n.d(t,{J:function(){return o}});var i=n(14095);let r=e=>"/"===e.charAt(0)||""===e?e:"/".concat(e),a=e=>e.length>1&&"/"===e.charAt(e.length-1)?e.slice(0,-1):e,l=a(i.a),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"proxy",n=a(r(e));switch(t){case"bff":return l+n;case"mock":return"/api/mock"+n;case"proxy":return"/api/web"+n}}},21825:function(e,t,n){n.r(t),n.d(t,{default:function(){return a}});var i=n(27573),r=n(63249);function a(e){return function(t){return(0,i.jsx)(r.ErrorBoundary,{children:(0,i.jsx)(e,{...t})})}}},4931:function(e,t,n){n.d(t,{s:function(){return d}});var i=n(7653),r=n(9551),a=n(4087),l=n(41430),o=n(61857),u=n(36659),c=n(56288);let s=["/","/buy-crypto","/sell-crypto","/sell","/decentralized-exchange"],d=()=>{let[e,t]=(0,i.useState)(!1),{mobileBanner:n}=(0,l.CG)(e=>e.rootConfig),d=(0,u.a)("(max-width: ".concat(a.So,")")),f=(0,c.jD)();return(0,i.useEffect)(()=>{("true"===new URLSearchParams(window.location.search).get("disable_optimize")||!d||d&&"closed"===n||r.Z.get(o.jC)===o.tD||r.Z.get("apk_refferer_popup")||!s.includes(f||""))&&t(!0)},[d,n]),{resolveRender:e}}},56288:function(e,t,n){n.d(t,{jD:function(){return l},tv:function(){return o}});var i=n(17858),r=n(7641);let{redirect:a,usePathname:l,useRouter:o}=(0,i.iV)({locales:r.lE,localePrefix:"as-needed"})},62117:function(e,t,n){n.d(t,{$:function(){return i}});let i=(e,t)=>Math.floor(Math.random()*(t-e+1))+e}}]);