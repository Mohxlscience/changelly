"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9245],{78458:function(e,t,n){n.d(t,{U:function(){return s}});var r=n(9551),o=n(33361);let u=()=>{let e=r.Z.get(o.i6);try{if(e)return JSON.parse(e);return null}catch(e){return null}},c=()=>(r.Z.get("_ga")||"").replace(/^GA([0-9]+)\.([0-9]+)\./,""),a=e=>{if("undefined"!=typeof document){let t=document.location.hostname,n=t.match(/\./);r.Z.set("_ga","GA1.1.".concat(e),{expires:365,domain:"".concat(n?".":"").concat(t)})}},i=()=>"".concat(Date.now(),".").concat(Math.random().toString().split(".")[1]),l=function(){let{autoCreate:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let{ga:e}=window;return e.getAll()[0].get("clientId")}catch(r){if(!e)return"";let t=c();if(t)return t;let n=i();return a(n),n}},s=()=>{let e=l(),t=r.Z.get(o.sk),n=u(),c=r.Z.get(o.CR)||"",a={isSsr:!0,clientId:"",refId:t,affiseData:n,deviceId:c,deviceInfo:{userAgent:"ssr",language:"ssr",languages:["ssr"],platform:"ssr",screenSize:{width:0,height:0}}};{let{navigator:r,innerWidth:o,innerHeight:u}=window,{userAgent:i,language:l,platform:s}=r;a={isSsr:!1,clientId:e,refId:t,affiseData:n,deviceId:c,deviceInfo:{userAgent:i,language:l,languages:r.languages,platform:s,screenSize:{width:o,height:u}}}}return a}},61653:function(e,t,n){n.d(t,{M5:function(){return m},Yv:function(){return s},aQ:function(){return l},h7:function(){return f},hH:function(){return a},ki:function(){return p},ru:function(){return d},sP:function(){return c},sy:function(){return i}});var r=n(10054),o=n(38868),u=n(48270);let c=(0,o.X)(e=>{let{txType:t,currencyFrom:n,currencyTo:o,amountTo:c,amountFrom:a,provider:i,rateType:l,promoCode:s,estimationId:m,network:f,responseTime:d}=e,p={event:u.g,event_name:"processing_estimate",tx_type:t,currency_from:n,currency_to:o,amount_from:a,amount_to:c,applied_promocode:s||"",estimationId:m,response_time:d};return l&&t===r.W.C2C&&(p.rate_type=l),t===r.W.F2C&&(p.provider=i),f&&(p.network=f),p}),a=(0,o.X)(e=>{let{txType:t,currencyFrom:n,currencyTo:o,amountTo:c,amountFrom:a,provider:i,rateType:l,error:s,network:m}=e,f={event:u.g,event_name:"processing_estimate_error",tx_type:t,currency_from:n,currency_to:o,amount_from:a,amount_to:c};return l&&t===r.W.C2C&&(f.rate_type=l),t===r.W.F2C&&(f.provider=i),s&&(f.error=s),m&&(f.network=m),f}),i=(0,o.X)(e=>{let{txType:t,setAmount:n,setAmountType:o,currencyFrom:c,currencyTo:a,rateType:i,type:l,eventType:s,network:m}=e,f={event:u.g,event_name:"from"===s?"processing_change_currency_from":"processing_change_currency_to",tx_type:t,set_amount:n,set_amount_type:o,currency_from:c,currency_to:a,type:"recent"===l?"new":l};return i&&t===r.W.C2C&&(f.rate_type=i),m&&(f.network=m),f}),l=(0,o.X)(e=>{let{txType:t,setAmount:n,setAmountType:r,currencyFrom:o,currencyTo:c,rateType:a,network:i}=e,l={event:u.g,event_name:"processing_reverse_currencies",tx_type:t,set_amount:n,set_amount_type:r,currency_from:o,currency_to:c,rate_type:a||null};return i&&(l.network=i),l}),s=(0,o.X)(e=>{let{txType:t,setAmount:n,setAmountType:o,currencyFrom:c,currencyTo:a,rateType:i,network:l}=e,s={event:u.g,event_name:"processing_change_amount",tx_type:t,set_amount:n,set_amount_type:o,currency_from:c,currency_to:a,network:l};return i&&t===r.W.C2C&&(s.rate_type=i),l&&(s.network=l),s}),m=(0,o.X)(e=>{let{txType:t,setAmount:n,setAmountType:o,currencyFrom:c,currencyTo:a,rateType:i,network:l}=e,s={event:u.g,event_name:"processing_click_limits_warning",tx_type:t,set_amount:n,set_amount_type:o,currency_from:c,currency_to:a};return i&&t===r.W.C2C&&(s.rate_type=i),l&&(s.network=l),s}),f=(0,o.X)(e=>{let{type:t,txType:n,customValue:r}=e;return{event:u.g,event_name:"processing_currency_not_found",tx_type:n,type:t,custom_value:r}}),d=(0,o.X)(e=>{let{type:t,customValue:n}=e;return{event:u.g,event_name:"processing_search_currency",type:t,custom_value:n}}),p=(e,t,n)=>{var r,o;let{toAmountValue:u,fromAmountValue:i,error:l,flow:s}=t,{selectedCurrency:m}=e,f=null==m?void 0:null===(r=m.from)||void 0===r?void 0:r.ticker,d=null==m?void 0:null===(o=m.to)||void 0===o?void 0:o.ticker;if(f&&d){let e={currencyFrom:f,currencyTo:d,amountFrom:i,amountTo:u,txType:s,...n};l?a({...e,error:null==l?void 0:l.message}):c(e)}}},49245:function(e,t,n){n.d(t,{FJ:function(){return h},Iv:function(){return k},T1:function(){return C},NW:function(){return b},Rh:function(){return w},E:function(){return W},wv:function(){return F},KS:function(){return A}});var r=n(58083),o=n(70333);let u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace(",",".");if(!(0,o.j)(t))return{integer:"",decimal:""};let[n="",r=""]=t.split(".");return{integer:n,decimal:r}},c=(e,t)=>{let{integer:n,decimal:r}=u(e);return r.length>t?"".concat(n,".").concat(r.slice(0,t)):e};var a=n(75386),i=n(10054);let l=e=>"meta"in e&&"object"==typeof e.meta&&null!==e.meta&&"responseTime"in e.meta;function s(e){return"object"==typeof e&&null!==e&&l(e)}var m=n(61653);let f={fromAmountValue:"",toAmountValue:"",active:null,fromDisabled:!1,toDisabled:!0,selectedCurrency:{from:null,to:null},features:{blockchainPrecision:!1}},d={[i.W.C2C]:f,[i.W.F2C]:f,[i.W.C2F]:f,[i.W.DEX]:f},{matchFulfilled:p}=a.estimateApi.endpoints.floatEstimate,{matchFulfilled:_}=a.estimateApi.endpoints.fixEstimate,{matchFulfilled:y}=a.estimateApi.endpoints.buyEstimate,v={from:"fromAmountValue",to:"toAmountValue"},g=(0,r.oM)({name:"calculator",initialState:d,reducers:{setAmount(e,t){let{type:n,value:r,flow:u,setActive:a=!0}=t.payload,i=e[u],l=(0,o.j)(r),s=r;if(l){if(i.features.blockchainPrecision){let{blockchainPrecision:e}=i.selectedCurrency[n]||{};s=e?c(r,e):r}switch(a&&(i.active=n),n){case"from":i.fromAmountValue=s;break;case"to":i.toAmountValue=s}}},setCurrency(e,t){let{flow:n,type:r,currency:o}=t.payload,u=e[n];if(u.selectedCurrency[r]=o,u.features.blockchainPrecision&&(null==o?void 0:o.blockchainPrecision)){let e=u[v[r]];u[v[r]]=c(e,o.blockchainPrecision)}},switchCurrencies(e,t){let n=e[t.payload],{from:r,to:o}=n.selectedCurrency;if(n.selectedCurrency.from=o,n.selectedCurrency.to=r,n.features.blockchainPrecision){let e=n.active||"from",t=n.selectedCurrency[e];if(null==t?void 0:t.blockchainPrecision){let r=n[v[e]];n[v[e]]=c(r,t.blockchainPrecision)}}},setDefault(e,t){e[t.payload]=f},setToDisabled(e,t){let{flow:n,isToDisabled:r}=t.payload;e[n].toDisabled=r},setActive(e,t){let{flow:n,active:r}=t.payload;e[n].active=r},setFutureFlag(e,t){let{feature:n,isEnabled:r,flow:o}=t.payload;e[o].features[n]=r}},extraReducers:e=>{e.addMatcher(p,(e,t)=>{let{payload:n}=t,{toAmountValue:r,error:o}=n;e.c2c.toAmountValue=null===o?r:"";let u=s(t)?t.meta.responseTime:0;m.ki(e.c2c,n,{rateType:"float",responseTime:u})}),e.addMatcher(_,(e,t)=>{let{payload:n}=t,{fromAmountValue:r,error:o,flow:u}=n;if("to"===e.c2c.active){null===o?e[u].fromAmountValue=r:e[u].fromAmountValue="";let c=s(t)?t.meta.responseTime:0;m.ki(e.c2c,n,{rateType:"fix",responseTime:c})}else e[u].toDisabled=!!o&&(null==o?void 0:o.type)!=="limits"}),e.addMatcher(y,(e,t)=>{let{payload:n}=t,{toAmountValue:r,error:o,provider:u}=n;e.f2c.toAmountValue=null===o?r:"";let c=s(t)?t.meta.responseTime:0;m.ki(e.f2c,n,{provider:u,responseTime:c})})}}),{reducer:h}=g,{setAmount:C,setActive:k,setCurrency:b,switchCurrencies:A,setDefault:w,setToDisabled:F,setFutureFlag:W}=g.actions},75386:function(e,t,n){n.d(t,{estimateApi:function(){return f},AR:function(){return s},Z5:function(){return d},m5:function(){return m}});var r=n(20794),o=n(78458),u=n(10054),c=n(44591),a=n(55156);let i={1:"simplex",2:"moonpay",7:"banxa",10:"switchere",11:"wert",12:"transak",13:"xgo",14:"unlimit",15:"topper",16:"brla",18:"kado"},l=(e,t)=>n=>{let r=s(n);return{url:(0,c.J)("/estimate/".concat(e),"proxy"),body:{rateType:t,...r},method:"POST"}},s=e=>{let{clientId:t,...n}=(0,o.U)(),{fromCurrencyTicker:r,toCurrencyTicker:c,fromAmountValue:a,toAmountValue:i}=e;return{from:r,to:c,amountFrom:""===a?null:a,amountTo:""===i?null:i,source:u.t.Web,user:{clientId:t},metadata:n}},m=e=>t=>{let{limits:n,error:o,amountFrom:u,amountToFinal:c,processingUrl:a,rateType:l}=t,s=t.providerId?String(t.providerId):null;return{fromAmountValue:(0,r.C)({amount:u}),toAmountValue:c?(0,r.C)({amount:c}):"",limits:n,processingUrl:a,rateType:l,error:o,flow:e,provider:s&&s in i?i[s]:void 0}},f=a.a.injectEndpoints({endpoints:e=>({floatEstimate:e.query({query:l(u.W.C2C,"float"),keepUnusedDataFor:0,transformResponse:m(u.W.C2C)}),fixEstimate:e.query({query:l(u.W.C2C,"fix"),keepUnusedDataFor:0,transformResponse:m(u.W.C2C)}),buyEstimate:e.query({query:l(u.W.F2C,null),keepUnusedDataFor:0,transformResponse:m(u.W.F2C)})})}),d=a.a.injectEndpoints({endpoints:e=>({sellEstimate:e.query({query:e=>{let t=s(e);return{url:(0,c.J)("/v1/c2f/estimate/","bff"),body:t,method:"POST"}},transformErrorResponse:e=>null==e?void 0:e.data,keepUnusedDataFor:0})})})},70333:function(e,t,n){n.d(t,{j:function(){return r}});function r(e){return!!/^\d*\.?\d*$/.test(e)&&Number(e)<=Number.MAX_SAFE_INTEGER}}}]);